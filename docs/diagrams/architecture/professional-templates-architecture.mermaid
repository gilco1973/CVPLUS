graph TB
    %% Professional Templates System Architecture
    %% Author: Gil Klainert
    %% Date: 2024-08-21
    
    subgraph "Template Type System"
        TS["ğŸ“ CV Template Types<br/>cv-templates.ts"]
        TS --> TID["ğŸ·ï¸ TemplateId<br/>Branded Type"]
        TS --> TC["ğŸ“‚ TemplateCategory<br/>8 Categories"]
        TS --> CP["ğŸ¨ ColorPalette<br/>Psychology-based"]
        TS --> TY["ğŸ“ TypographySystem<br/>Professional Pairings"]
        TS --> LC["ğŸ“ LayoutConfiguration<br/>Responsive Grid"]
        TS --> FS["âš™ï¸ FeatureSpecification<br/>Advanced Features"]
        TS --> ATS["ğŸ” ATSCompatibility<br/>85-95% Scores"]
    end
    
    subgraph "Professional Templates Data"
        PTD["ğŸ“Š Professional Templates<br/>professional-templates.ts"]
        PTD --> EX["ğŸ‘” Executive Authority<br/>C-suite & Leadership"]
        PTD --> TECH["ğŸ’» Tech Innovation<br/>Engineering & IT"]
        PTD --> CR["ğŸ¨ Creative Showcase<br/>Design & Creative"]
        PTD --> HC["ğŸ¥ Healthcare Professional<br/>Medical Professionals"]
        PTD --> FIN["ğŸ’¼ Financial Expert<br/>Finance Sector"]
        PTD --> AC["ğŸ“ Academic Scholar<br/>Education & Research"]
        PTD --> SAL["ğŸ“ˆ Sales Performance<br/>Sales Professionals"]
        PTD --> INT["ğŸŒ International Professional<br/>Global Roles"]
    end
    
    subgraph "Template Registry Service"
        TRS["ğŸ—ƒï¸ Template Registry<br/>template-registry.ts"]
        TRS --> TM["ğŸ“‹ Template Management<br/>CRUD Operations"]
        TRS --> SF["ğŸ” Search & Filtering<br/>Multi-criteria Search"]
        TRS --> AN["ğŸ“Š Analytics & Tracking<br/>Usage Statistics"]
        TRS --> VA["âœ… Validation<br/>Template Verification"]
        TRS --> CA["ğŸ’¾ Caching System<br/>Performance Optimization"]
    end
    
    subgraph "Integration Layer"
        TI["ğŸ”— Template Integration<br/>template-integration.ts"]
        TI --> BC["ğŸ”„ Backward Compatibility<br/>Legacy Support"]
        TI --> TSS["ğŸ¯ Template Selection<br/>Smart Recommendations"]
        TI --> CVG["ğŸš€ Enhanced Generation<br/>Advanced CV Creation"]
        TI --> MIG["ğŸ“‹ Migration Utilities<br/>Legacy Migration"]
    end
    
    subgraph "React Integration"
        RH["âš›ï¸ React Hooks<br/>useEnhancedTemplates.ts"]
        RH --> TD["ğŸ“Š Template Data<br/>State Management"]
        RH --> FI["ğŸ”½ Filtering Logic<br/>Category & Search"]
        RH --> RE["ğŸ¯ Recommendations<br/>User-based Matching"]
        RH --> GE["âš™ï¸ Generation Engine<br/>CV Generation"]
        RH --> AN2["ğŸ“ˆ Analytics Hooks<br/>Usage Tracking"]
    end
    
    subgraph "UI Components"
        ETP["ğŸ¨ Enhanced Templates Page<br/>EnhancedTemplatesPage.tsx"]
        ETP --> TC2["ğŸ·ï¸ Template Cards<br/>Rich Template Display"]
        ETP --> CF["ğŸ”½ Category Filters<br/>8-Category Navigation"]
        ETP --> SR["ğŸ” Search & Recommendations<br/>Smart Template Discovery"]
        ETP --> GB["ğŸš€ Generation Button<br/>Enhanced CV Creation"]
        ETP --> PM["ğŸ’ Premium Features<br/>Premium Template Support"]
    end
    
    subgraph "Legacy Compatibility"
        LT["ğŸ“„ Legacy Templates<br/>TemplatesPage.tsx"]
        LT --> LM["ğŸ”„ Legacy Mapping<br/>ID Translation"]
        LM --> PTD
        LT -.->|"Gradual Migration"| ETP
    end
    
    subgraph "Template Features"
        TF["â­ Template Features"]
        TF --> CP2["ğŸ¨ Color Psychology<br/>Industry-specific Schemes"]
        TF --> TP["ğŸ“ Typography Pairings<br/>Professional Font Combinations"]
        TF --> RL["ğŸ“± Responsive Layouts<br/>Mobile-first Design"]
        TF --> AF["âœ¨ Advanced Features<br/>Animations & Interactions"]
        TF --> AC2["â™¿ Accessibility<br/>WCAG 2.1 AA Compliance"]
        TF --> AO["ğŸ” ATS Optimization<br/>High Compatibility Scores"]
    end
    
    subgraph "Performance & Caching"
        PC["ğŸš€ Performance System"]
        PC --> SC["ğŸ’¾ Search Caching<br/>5-minute TTL"]
        PC --> IM["ğŸ“¦ In-memory Storage<br/>Template Registry"]
        PC --> LL["âš¡ Lazy Loading<br/>On-demand Templates"]
        PC --> CS["âœ‚ï¸ Code Splitting<br/>Bundle Optimization"]
    end
    
    subgraph "Analytics & Insights"
        AI["ğŸ“Š Analytics System"]
        AI --> UT["ğŸ‘¥ Usage Tracking<br/>Template Selection"]
        AI --> RT["â­ Rating System<br/>User Feedback"]
        AI --> PT["ğŸ“ˆ Performance Metrics<br/>Generation Times"]
        AI --> REC["ğŸ¯ Recommendation Engine<br/>ML-based Matching"]
    end
    
    %% Data Flow Connections
    TS --> PTD
    PTD --> TRS
    TRS --> TI
    TI --> RH
    RH --> ETP
    TRS --> PC
    TRS --> AI
    TF --> PTD
    
    %% Integration Flows
    LT --> TI
    TI --> ETP
    AI --> REC
    REC --> RH
    
    %% Style Classes
    classDef typeSystem fill:#e1f5fe,stroke:#0277bd,stroke-width:2px
    classDef templateData fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
    classDef serviceLayer fill:#e8f5e8,stroke:#388e3c,stroke-width:2px
    classDef uiLayer fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    classDef legacyLayer fill:#fafafa,stroke:#616161,stroke-width:2px
    classDef featureLayer fill:#f8bbd9,stroke:#e91e63,stroke-width:2px
    classDef performanceLayer fill:#e0f2f1,stroke:#00695c,stroke-width:2px
    classDef analyticsLayer fill:#f1f8e9,stroke:#33691e,stroke-width:2px
    
    %% Apply Styles
    class TS,TID,TC,CP,TY,LC,FS,ATS typeSystem
    class PTD,EX,TECH,CR,HC,FIN,AC,SAL,INT templateData
    class TRS,TM,SF,AN,VA,CA,TI,BC,TSS,CVG,MIG serviceLayer
    class RH,TD,FI,RE,GE,AN2,ETP,TC2,CF,SR,GB,PM uiLayer
    class LT,LM legacyLayer
    class TF,CP2,TP,RL,AF,AC2,AO featureLayer
    class PC,SC,IM,LL,CS performanceLayer
    class AI,UT,RT,PT,REC analyticsLayer
