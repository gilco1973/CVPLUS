flowchart TD
    A[HomePage<br/>Upload CV<br/>ğŸ¯ Enhanced Onboarding] --> B{Authentication}
    B -->|Anonymous| C[Create Job<br/>ğŸ’¾ Auto-save Session]
    B -->|Google Auth| C
    
    C --> D[ProcessingPage<br/>Real-time Status<br/>Step 1 of 5<br/>ğŸ“Š Enhanced Progress]
    
    D --> E{Processing Status}
    E -->|Success| F[CVAnalysisPage<br/>Analysis Results<br/>Step 2 of 5<br/>â“ Contextual Help]
    E -->|Failed| G[Error Recovery<br/>ğŸ”„ Partial Results<br/>ğŸ“‹ Recovery Options]
    G -->|Resume| D
    G -->|Restart| A
    
    F --> H[CVPreviewPage<br/>Preview & Customize<br/>Step 3 of 5<br/>ğŸ“± Mobile Optimized]
    
    H --> I{Enhanced User Choice}
    I -->|Select Template| J[TemplatesPage<br/>Template Selection<br/>Step 3a of 5<br/>ğŸ¨ Visual Preview]
    I -->|Keyword Optimization| K[KeywordOptimization<br/>ATS Optimization<br/>Step 3b of 5]
    I -->|Quick Generate| L[ResultsPage<br/>Final Results<br/>Step 5 of 5<br/>ğŸš€ Fast Track]
    I -->|Save & Continue Later| M[Save Session<br/>ğŸ’¾ Resume Link]
    
    J --> H
    K --> H
    M --> N[Email Resume Link<br/>ğŸ“§ Session Recovery]
    N --> O[Resume Session<br/>ğŸ”— Pick up where left off]
    O --> H
    
    H --> P[Enhanced Preview<br/>Step 4 of 5<br/>ğŸ‘ï¸ Live Preview<br/>âš¡ Real-time Updates]
    P --> L
    
    L --> Q{Enhanced User Actions}
    Q -->|Download| R[Multi-format Download<br/>ğŸ“„ PDF/DOCX/HTML<br/>ğŸ“Š Download Analytics]
    Q -->|Share| S[Enhanced Public Profile<br/>ğŸŒ Social Sharing<br/>ğŸ”— Custom URLs]
    Q -->|Iterate| T[Smart Iteration<br/>ğŸ”„ Preserve Changes<br/>âš¡ Quick Edits]
    Q -->|Analytics| U[Performance Dashboard<br/>ğŸ“ˆ ATS Scores<br/>ğŸ‘€ Profile Views]
    
    T --> P
    
    %% Enhanced Backend Integration
    D -.->|Enhanced processCV| V[Smart CV Processing<br/>ğŸ§  AI Document Analysis<br/>ğŸ” Advanced PII Detection]
    D -.->|Progressive enhancedAnalyzeCV| W[Streaming AI Analysis<br/>âš¡ Real-time Results<br/>ğŸ¯ ATS Optimization]
    H -.->|Contextual applyImprovements| X[Intelligent Improvements<br/>ğŸ¤– Context-aware AI<br/>ğŸ“Š A/B Testing]
    P -.->|Parallel generateMedia| Y[Parallel Media Generation<br/>ğŸ¥ Video + ğŸ™ï¸ Podcast<br/>âš¡ Concurrent Processing]
    L -.->|Enhanced generateCV| Z[Smart CV Generation<br/>ğŸ“± Responsive Design<br/>ğŸ¨ Dynamic Styling]
    
    %% Mobile-First Navigation
    AA[Mobile Navigation<br/>ğŸ” Hamburger Menu<br/>ğŸ‘† Touch Optimized] -.-> A
    AA -.-> F
    AA -.-> H
    AA -.-> L
    
    %% Enhanced Error Handling
    BB[Global Error Handler<br/>ğŸš¨ Smart Recovery<br/>ğŸ“ Support Integration] -.-> G
    
    %% Analytics & Monitoring
    CC[User Analytics<br/>ğŸ“Š Behavior Tracking<br/>ğŸ¯ Conversion Optimization] -.-> A
    CC -.-> F
    CC -.-> H
    CC -.-> L
    
    %% Styling for Improved Flow
    classDef primaryPage fill:#3b82f6,stroke:#1e40af,stroke-width:3px,color:#ffffff
    classDef enhancedPage fill:#06b6d4,stroke:#0891b2,stroke-width:3px,color:#ffffff
    classDef processing fill:#f59e0b,stroke:#d97706,stroke-width:2px,color:#ffffff
    classDef decision fill:#8b5cf6,stroke:#7c3aed,stroke-width:2px,color:#ffffff
    classDef backend fill:#10b981,stroke:#059669,stroke-width:2px,color:#ffffff
    classDef enhancement fill:#ec4899,stroke:#db2777,stroke-width:2px,color:#ffffff
    classDef recovery fill:#84cc16,stroke:#65a30d,stroke-width:2px,color:#ffffff
    
    class A,F,H,P,L enhancedPage
    class C,D,V,W,X,Y,Z processing
    class B,E,I,Q decision
    class G,BB recovery
    class J,K,M,N,O,T,U,AA,CC enhancement